<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hp3478a_async.hp_3478a &#8212; hp3478a_async v1.4.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css?v=279e0f84" />
    <script src="../../_static/documentation_options.js?v=c97b86a3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">hp3478a_async v1.4.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hp3478a_async.hp_3478a</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for hp3478a_async.hp_3478a</h1><div class="highlight"><pre>
<span></span><span class="c1"># ##### BEGIN GPL LICENSE BLOCK #####</span>
<span class="c1">#</span>
<span class="c1"># Copyright (C) 2021 Patrick Baus</span>
<span class="c1"># This file is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># This file is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with this file.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">#</span>
<span class="c1"># ##### END GPL LICENSE BLOCK #####</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This is an asyncIO driver for the HP 3478A DMM to abstract away the GPIB interface.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>  <span class="c1"># Used to test for numerical return values</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">log</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">types</span><span class="w"> </span><span class="kn">import</span> <span class="n">TracebackType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">TYPE_CHECKING</span><span class="p">,</span> <span class="n">AsyncGenerator</span><span class="p">,</span> <span class="n">Type</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">hp3478a_async.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">DisplayType</span><span class="p">,</span> <span class="n">FrontRearSwitchPosition</span><span class="p">,</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">Range</span><span class="p">,</span> <span class="n">TriggerType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hp3478a_async.errors</span><span class="w"> </span><span class="kn">import</span> <span class="n">DeviceError</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hp3478a_async.flags</span><span class="w"> </span><span class="kn">import</span> <span class="n">ErrorFlags</span><span class="p">,</span> <span class="n">SerialPollFlags</span><span class="p">,</span> <span class="n">SrqMask</span><span class="p">,</span> <span class="n">StatusFlags</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Self</span>  <span class="c1"># type: ignore # Python 3.11</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">typing_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">Self</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">async_gpib</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncGpib</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">prologix_gpib_async</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncPrologixGpibController</span>


<div class="viewcode-block" id="DmmStatus">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.DmmStatus">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">DmmStatus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The device status of them DMM&quot;&quot;&quot;</span>

    <span class="n">function</span><span class="p">:</span> <span class="n">FunctionType</span>
    <span class="nb">range</span><span class="p">:</span> <span class="n">Range</span>
    <span class="n">ndigits</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">StatusFlags</span>
    <span class="n">srq_flags</span><span class="p">:</span> <span class="n">SerialPollFlags</span>
    <span class="n">error_flags</span><span class="p">:</span> <span class="n">ErrorFlags</span>
    <span class="n">dac_value</span><span class="p">:</span> <span class="nb">int</span></div>



<div class="viewcode-block" id="NtcParameters">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.NtcParameters">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">NtcParameters</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The Steinhart-Hart coefficient of an NTC thermistor. The formula to calculate the temperature from the resistance is</span>
<span class="sd">    as follows:</span>

<span class="sd">    1/T=a+b*Log(Rt/R25)+c*Log(Rt/R25)**2+d*Log(Rt/R25)**3</span>

<span class="sd">    See `Wikipedia: Steinhart–Hart equation &lt;https://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation&gt;`_ for more</span>
<span class="sd">    details.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">a</span><span class="p">:</span> <span class="nb">float</span>  <span class="c1"># pylint: disable=invalid-name  # this is standard naming convention</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">float</span>  <span class="c1"># pylint: disable=invalid-name  # this is standard naming convention</span>
    <span class="n">c</span><span class="p">:</span> <span class="nb">float</span>  <span class="c1"># pylint: disable=invalid-name  # this is standard naming convention</span>
    <span class="n">d</span><span class="p">:</span> <span class="nb">float</span>  <span class="c1"># pylint: disable=invalid-name  # this is standard naming convention</span>
    <span class="n">rt25</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">rt25</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span></div>



<span class="c1"># Used to test for numerical return values of the read() command</span>
<span class="n">numerical_test_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">rb</span><span class="s2">&quot;^[+-]\d+\.\d+E[+-]\d&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="HP_3478A">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">HP_3478A</span><span class="p">:</span>  <span class="c1"># noqa pylint: disable=too-many-public-methods,invalid-name</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The driver for the HP 3478A 5.5 digit multimeter. It supports both linux-gpib and the Prologix</span>
<span class="sd">    GPIB adapters.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGpib</span> <span class="o">|</span> <span class="n">AsyncPrologixGpibController</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The GPIB connection.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span>

<div class="viewcode-block" id="HP_3478A.__init__">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">AsyncGpib</span> <span class="o">|</span> <span class="n">AsyncPrologixGpibController</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an HP 3478A with the GPIB connection given.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        connection: AsyncGpib or AsyncPrologixGpibController</span>
<span class="sd">            The GPIB connection</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span> <span class="o">=</span> <span class="n">connection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span><span class="p">:</span> <span class="n">FunctionType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Default constants taken from Amphenol DC95 (Material Type 10kY)</span>
        <span class="c1"># https://www.amphenol-sensors.com/hubfs/Documents/AAS-913-318C-Temperature-resistance-curves-071816-web.pdf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ntc_parameters</span><span class="p">:</span> <span class="n">NtcParameters</span> <span class="o">=</span> <span class="n">NtcParameters</span><span class="p">(</span>
            <span class="n">rt25</span><span class="o">=</span><span class="mi">10</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">a</span><span class="o">=</span><span class="mf">3.3540153</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">b</span><span class="o">=</span><span class="mf">2.7867185</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">4</span><span class="p">,</span>
            <span class="n">c</span><span class="o">=</span><span class="mf">4.0006637</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">6</span><span class="p">,</span>
            <span class="n">d</span><span class="o">=</span><span class="mf">1.5575628</span> <span class="o">*</span> <span class="mi">10</span><span class="o">**-</span><span class="mi">7</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;HEWLETT-PACKARD 3478A at </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__aenter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__aexit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">exc</span><span class="p">:</span> <span class="ne">BaseException</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">traceback</span><span class="p">:</span> <span class="n">TracebackType</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>

<div class="viewcode-block" id="HP_3478A.get_id">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.get_id">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_id</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The HP 3478A does not support an ID request, so this function returns the constant</span>
<span class="sd">        `&quot;HEWLETT-PACKARD&quot;, &quot;3478A&quot;, &quot;0&quot;, &quot;0&quot;` to emulate the `*IDN?` SCPI command. The method is not async, but for</span>
<span class="sd">        compatibility reasons with other drivers, it is declared async.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple of str</span>
<span class="sd">            A SCPI compliant id string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;HEWLETT-PACKARD&quot;</span><span class="p">,</span> <span class="s2">&quot;3478A&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span></div>


<div class="viewcode-block" id="HP_3478A.connect">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.connect">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Connect the GPIB connection and configure the GPIB device for the DMM. This function must be called from the</span>
<span class="sd">        loop and takes care of connecting the GPIB adapter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="p">,</span> <span class="s2">&quot;set_eot&quot;</span><span class="p">):</span>
            <span class="c1"># Used by the Prologix adapters</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">set_eot</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
            <span class="c1"># Default display mode</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_display</span><span class="p">(</span><span class="n">DisplayType</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">),</span>
            <span class="c1"># Default SRQ Mask</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_srq_mask</span><span class="p">(</span><span class="n">SrqMask</span><span class="o">.</span><span class="n">NONE</span><span class="p">),</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.disconnect">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.disconnect">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disconnect the GPIB device and release any lock on the front panel of the device if held.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">local</span><span class="p">()</span>
            <span class="c1"># Wait 0.5 seconds for the DMM to finish reading and accepting the local() command</span>
            <span class="c1"># The slowest reading rate is 1.9 readings/s</span>
            <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ConnectionError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span></div>


<div class="viewcode-block" id="HP_3478A.set_ntc_parameters">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_ntc_parameters">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_ntc_parameters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">rt25</span><span class="p">:</span> <span class="nb">float</span>
    <span class="p">):</span>  <span class="c1"># pylint: disable=too-many-arguments,too-many-positional-arguments</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the parameters used when in mode :attr:`FunctionType.NTC &lt;hp3478a_async.enums.FunctionType.NTC&gt;` or</span>
<span class="sd">        :attr:`FunctionType.NTCF &lt;hp3478a_async.enums.FunctionType.NTCF&gt;`. The parameters can be found in the datasheet</span>
<span class="sd">        of the thermistor. The formula for converting resistance values to temperature is:</span>

<span class="sd">        1/T=a+b*Log(Rt/R25)+c*Log(Rt/R25)**2+d*Log(Rt/R25)**3</span>

<span class="sd">        See `Wikipedia: Steinhart–Hart equation &lt;https://en.wikipedia.org/wiki/Steinhart%E2%80%93Hart_equation&gt;`_ for</span>
<span class="sd">        more details.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        a: float</span>
<span class="sd">            The parameters of the NTC thermistor used</span>
<span class="sd">        b: float</span>
<span class="sd">            The parameters of the NTC thermistor used</span>
<span class="sd">        c: float</span>
<span class="sd">            The parameters of the NTC thermistor used</span>
<span class="sd">        d: float</span>
<span class="sd">            The parameters of the NTC thermistor used</span>
<span class="sd">        rt25: float</span>
<span class="sd">            The resistance of the NTC at 25 °C</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__ntc_parameters</span> <span class="o">=</span> <span class="n">NtcParameters</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">rt25</span><span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__convert_thermistor_to_temperature</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">,</span> <span class="n">ntc_parameters</span><span class="p">:</span> <span class="n">NtcParameters</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert a resistance to temperature using the formula 1/T=a+b*Log(Rt/R25)+c*Log(Rt/R25)**2+d*Log(Rt/R25)**3.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: Decimal or float</span>
<span class="sd">            The resistance of the NTC</span>
<span class="sd">        ntc_parameters: NtcParameters</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Decimal or float</span>
<span class="sd">            The temperature in K</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Note: float precision is good enough for thermistors, so we convert the value to float and finally back to</span>
        <span class="c1"># Decimal</span>
        <span class="k">return</span> <span class="n">Decimal</span><span class="p">(</span>
            <span class="mi">1</span>
            <span class="o">/</span> <span class="p">(</span>
                <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">a</span>
                <span class="o">+</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">b</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">rt25</span><span class="p">)</span>
                <span class="o">+</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">c</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">rt25</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span>
                <span class="o">+</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">d</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="n">ntc_parameters</span><span class="o">.</span><span class="n">rt25</span><span class="p">)</span> <span class="o">**</span> <span class="mi">3</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__post_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Post-process the DMM value, if a special function was selected using :func:`set_function`. Returns the</span>
<span class="sd">        unmodified value if no special function was selected.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: Decimal or float</span>
<span class="sd">            The value to post-process</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Decimal</span>
<span class="sd">            the post-processed value. The value is unmodified if no special function was selected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__convert_thermistor_to_temperature</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ntc_parameters</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot convert resistance to temperature. Measurement was: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span>
        <span class="k">return</span> <span class="n">value</span>

<div class="viewcode-block" id="HP_3478A.read">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.read">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Decimal</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read a single value from the device. If `length&#39; is given, read `length` bytes, else read until a line break</span>
<span class="sd">        ``b&quot;\\n&quot;``.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        length: int, optional</span>
<span class="sd">            The number of bytes to read. Omit to read a line.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Decimal or bytes</span>
<span class="sd">            Either a Decimal value or a number of bytes as defined by `length`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        OverflowError</span>
<span class="sd">            If the instrument input is overloaded, i.e. returns `+9.99999E+9`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">length</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">read</span><span class="p">())[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># strip the EOT characters (\r\n)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">)</span>

        <span class="n">match</span> <span class="o">=</span> <span class="n">numerical_test_pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;+9.99999E+9&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">OverflowError</span><span class="p">(</span><span class="s2">&quot;DMM input overloaded&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__post_process</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="n">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">result</span>  <span class="c1"># else return the bytes</span></div>


<div class="viewcode-block" id="HP_3478A.read_all">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.read_all">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">Decimal</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read all values from the device. If `length&#39; is given, read `length` bytes, else read until a line break</span>
<span class="sd">        ``b&quot;\\n&quot;``, then yield the result.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        length: int, optional</span>
<span class="sd">            The number of bytes to read. Omit to read a line.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Iterator[Decimal or bytes]</span>
<span class="sd">            Either a Decimal value or a number of bytes as defined by `length`.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        OverflowError</span>
<span class="sd">            If the instrument input is overloaded, i.e. returns `+9.99999E+9`.</span>
<span class="sd">        DeviceError</span>
<span class="sd">            If the device is not ready for read.</span>
<span class="sd">        asyncio.TimeoutError</span>
<span class="sd">            If the GPIB controller does not respond in time.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_srq_mask</span><span class="p">(</span><span class="n">SrqMask</span><span class="o">.</span><span class="n">DATA_READY</span><span class="p">)</span>  <span class="c1"># Enable a GPIB interrupt when the conversion is done</span>
        <span class="k">while</span> <span class="s2">&quot;loop not cancelled&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">status_byte</span> <span class="o">=</span> <span class="n">SerialPollFlags</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">wait</span><span class="p">((</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">11</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">14</span><span class="p">)))</span>
                <span class="k">if</span> <span class="n">SerialPollFlags</span><span class="o">.</span><span class="n">SRQ_ON_DATA_READY</span> <span class="ow">in</span> <span class="n">status_byte</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">result</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">DeviceError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Device did not signal ready for read. Status was: </span><span class="si">{</span><span class="n">status_byte</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">(</span><span class="s2">&quot;The GPIB controller did not respond in time.&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="kc">None</span></div>


    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">__query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">)</span>

<div class="viewcode-block" id="HP_3478A.set_display">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_display">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_display</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">DisplayType</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets a custom display text or display measurands. See page 12 of the manual for details.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: DisplayType</span>
<span class="sd">            The type of text to display on the front panel tft. If set to</span>
<span class="sd">            :attr:`DisplayType.NORMAL &lt;hp3478a_async.enums.DisplayType.NORMAL&gt;`, no text will be set.</span>
<span class="sd">        text: str</span>
<span class="sd">            The text to display if `value` is not set to</span>
<span class="sd">            :attr:`DisplayType.NORMAL &lt;hp3478a_async.enums.DisplayType.NORMAL&gt;`. There is no need to terminate the</span>
<span class="sd">            string with ``&quot;\\r&quot;`` or ``&quot;\\n&quot;``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">DisplayType</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">DisplayType</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">:</span>
            <span class="c1"># Do not allow text in normal display mode</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;D</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># The text must be terminated by a control character like \r or \n</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;D</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">d</span><span class="si">}{</span><span class="n">text</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.set_trigger">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_trigger">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">TriggerType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the DMM trigger. See page 53 of the manual for details.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: TriggerType</span>
<span class="sd">            The trigger type used when taking measurements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">TriggerType</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;T</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.write">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.write">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write data or commands to the instrument. Do not terminate the command with a new line or carriage return</span>
<span class="sd">        (``b&quot;\\r&quot;`` or ``b&quot;\\n&quot;``). This bytestring will be written as is, be careful.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        msg: bytes</span>
<span class="sd">            The string to be sent to the device.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.set_srq_mask">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_srq_mask">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_srq_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">SrqMask</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the service interrupt mask. This will determine, when the GPIB SRQ is triggered by the instrument. The</span>
<span class="sd">        :attr:`SrqMask.DATA_READY &lt;hp3478a_async.flags.SrqMask.DATA_READY&gt;` flag is useful, when reading with long</span>
<span class="sd">        conversion times. See :doc:`examples` for an example and page 46 of the manual for details.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: SrqMask</span>
<span class="sd">            The service request register setting.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">SrqMask</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;M</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">02o</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.get_front_rear_switch_position">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.get_front_rear_switch_position">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_front_rear_switch_position</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrontRearSwitchPosition</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check whether the front or rear panel binding posts are active.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        FrontRearSwitchPosition</span>
<span class="sd">            The position of the front/rear switch</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">FrontRearSwitchPosition</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__query</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;S&quot;</span><span class="p">)))</span></div>


<div class="viewcode-block" id="HP_3478A.device_clear">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.device_clear">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">device_clear</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Send the Selected Device Clear (SDC) event. This will trigger the self-test routine and  reset the device to</span>
<span class="sd">        its power on state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>


<div class="viewcode-block" id="HP_3478A.clear">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.clear">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clear serial poll register</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;K&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.reset">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.reset">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Place the device in DCV, autorange, autozero, single trigger, 4.5 digits mode and erase any output stored in</span>
<span class="sd">        the buffers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;H0&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.local">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.local">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">local</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disable the front panel and allow only GPIB commands.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">ibloc</span><span class="p">()</span></div>


<div class="viewcode-block" id="HP_3478A.set_function">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_function">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">FunctionType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Put the device in a certain measurement mode of either DVC, ACV, Ohms, 4-W Ohms, DCI, ACI or the extended ohms</span>
<span class="sd">        mode. See page 55 of the manual for details on the extended ohms mode.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: FunctionType</span>
<span class="sd">            The function type to be measured.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">FunctionType</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="p">(</span><span class="n">FunctionType</span><span class="o">.</span><span class="n">NTC</span><span class="p">,</span> <span class="n">FunctionType</span><span class="o">.</span><span class="n">NTCF</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span> <span class="o">=</span> <span class="n">value</span>
            <span class="c1"># Convert to OHM/OHMF</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">FunctionType</span><span class="p">(((</span><span class="n">value</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;F</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.set_autozero">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_autozero">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_autozero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the auto-zero mode of the DMM. If enabled, the DMM will auto-zero between readings.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        enable: bool</span>
<span class="sd">            `True` to enable auto-zeroing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enable</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Z</span><span class="si">{</span><span class="n">enable</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.set_number_of_digits">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_number_of_digits">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_number_of_digits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the number of digits returned by the DMM. This has an influence on the integration time.</span>
<span class="sd">        See page 15 of the manual for details.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: {4, 5, 6}</span>
<span class="sd">            A value between 4 and 6.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">assert</span> <span class="mi">4</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">6</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;N</span><span class="si">{</span><span class="p">(</span><span class="n">value</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


<div class="viewcode-block" id="HP_3478A.get_error_register">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.get_error_register">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_error_register</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ErrorFlags</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the contents of the error register, which is the result of the power on self-test. See page 62 of the manual</span>
<span class="sd">        for details.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        ErrorFlags</span>
<span class="sd">            The error register</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__query</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;E&quot;</span><span class="p">),</span> <span class="n">base</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>  <span class="c1"># Convert the octal result to int</span>
        <span class="k">return</span> <span class="n">ErrorFlags</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.set_range">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_range">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Range</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the measurement range. The range, that can be selected depend on the measurement mode.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value: Range</span>
<span class="sd">            The measurement range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">Range</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;R</span><span class="si">{</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">))</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__calculate_range</span><span class="p">(</span><span class="n">function</span><span class="p">:</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">range_value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Range</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The range Enum is basically the exponent of the range. Unfortunately the returned bits depend on the function,</span>
<span class="sd">        so we need to add or subtract according to the DMM function.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        function: FunctionType</span>
<span class="sd">            The function that is currently in use</span>
<span class="sd">        range_value: int</span>
<span class="sd">            The exponent</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Range</span>
<span class="sd">            The adjusted range</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">range_value_correction</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">DCV</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">ACV</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">OHM</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">OHMF</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">OHM_EXT</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">DCI</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
            <span class="n">FunctionType</span><span class="o">.</span><span class="n">ACI</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">Range</span><span class="p">(</span><span class="n">range_value</span> <span class="o">+</span> <span class="n">range_value_correction</span><span class="p">[</span><span class="n">function</span><span class="p">])</span>

<div class="viewcode-block" id="HP_3478A.get_cal_ram">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.get_cal_ram">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_cal_ram</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An undocumented function. Read the internal calibration memory from the NVRAM. It can be used to backup the</span>
<span class="sd">        calibration memory in case the internal battery fails. See :doc:`examples` for an example on how to read the</span>
<span class="sd">        memory and convert it to meaningful data.</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        bytes</span>
<span class="sd">            The contents of the calibration ram.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">addr</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">256</span><span class="p">):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__query</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="nb">bytes</span><span class="p">([</span><span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;W&quot;</span><span class="p">),</span> <span class="n">addr</span><span class="p">]),</span> <span class="n">length</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
        <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.set_cal_ram">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.set_cal_ram">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_cal_ram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write to the internal NVRAM. Warning: This can brick the device until a valid calibration</span>
<span class="sd">        configuration is written to the NVRAM. This function only works, if the front panel CAL switch is enabled.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        data: bytes</span>
<span class="sd">            The data to be written to the calibration memory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">addr</span><span class="p">,</span> <span class="n">data_block</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">),</span> <span class="n">addr</span><span class="p">,</span> <span class="n">data_block</span><span class="p">]))</span></div>


<div class="viewcode-block" id="HP_3478A.get_status">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.get_status">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DmmStatus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read the binary status register of the device. See page 61 of the manual for details.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        DmmStatus</span>
<span class="sd">            The current status of the DMM</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The &quot;B&quot; command is special. It does not contain a line terminator, the</span>
        <span class="c1"># device will output exactly 5 bytes and no more. So we need to read exactly</span>
        <span class="c1"># 5 bytes.</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__query</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">function</span> <span class="o">=</span> <span class="n">FunctionType</span><span class="p">((</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mb">0b111</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">FunctionType</span><span class="p">(</span>
            <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span>
        <span class="p">):</span>
            <span class="c1"># If a special function is enabled in the driver, and the instrument is set to</span>
            <span class="c1"># the correct function, we will return the special function instead</span>
            <span class="n">function</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If the correct function is not set on the device, we will disable the special function</span>
            <span class="c1"># in the driver</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__special_function</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">DmmStatus</span><span class="p">(</span>
            <span class="n">function</span><span class="o">=</span><span class="n">function</span><span class="p">,</span>
            <span class="nb">range</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__calculate_range</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mb">0b111</span><span class="p">),</span>
            <span class="n">ndigits</span><span class="o">=</span><span class="mi">6</span> <span class="o">-</span> <span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mb">0b11</span><span class="p">),</span>
            <span class="n">status</span><span class="o">=</span><span class="n">StatusFlags</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
            <span class="n">srq_flags</span><span class="o">=</span><span class="n">SerialPollFlags</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="n">error_flags</span><span class="o">=</span><span class="n">ErrorFlags</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span>
            <span class="n">dac_value</span><span class="o">=</span><span class="n">result</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="HP_3478A.serial_poll">
<a class="viewcode-back" href="../../modules.html#hp3478a_async.HP_3478A.serial_poll">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">serial_poll</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SerialPollFlags</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Serial poll the device/GPIB controller. Use this in combination with the SRQ mask to determine, if the</span>
<span class="sd">        instrument triggered the SRQ and requests service.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        SerialPollFlags</span>
<span class="sd">            The status register of the device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">SerialPollFlags</span><span class="p">(</span><span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__conn</span><span class="o">.</span><span class="n">serial_poll</span><span class="p">())</span></div>
</div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">hp3478a_async v1.4.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">hp3478a_async.hp_3478a</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2022, Patrick Baus.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>